–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ –ø–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞ AIBRO Business
üìã –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞
–ò–∑—É—á–∏–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ –∫–æ–¥ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, —è –≤—ã—è–≤–∏–ª —Å–ª–µ–¥—É—é—â—É—é –∫–∞—Ä—Ç–∏–Ω—É:
‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:

–ü—Ä–æ–¥—É–º–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º frontend/backend
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Å—Ç–µ–∫–∞ (React 19, TypeScript, Prisma)
–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
–ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å –∏ —Ç–µ–º–∏–∑–∞—Ü–∏—è

‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:

–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –¢–æ–∫–µ–Ω—ã –≤ –∫–æ–¥–µ, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –ù–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π, lazy loading
–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –¥–ª—è production
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –ü–æ–ª–Ω–æ–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ—Å—Ç–æ–≤
–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π

üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –£–õ–£–ß–®–ï–ù–ò–Ø (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)

1. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å - –°–†–û–ß–ù–û!
   1.1 –£–¥–∞–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤ –∏–∑ –∫–æ–¥–∞
   –ü—Ä–æ–±–ª–µ–º–∞: –í api/telegram.ts —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–∫–µ–Ω –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ
   typescriptconst TELEGRAM_BOT_TOKEN = "7689714723:AAGnAFlL_skB5_HSaH-TXshS38fnGg6QSW0";
   –†–µ—à–µ–Ω–∏–µ:

–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:

–ó–∞–π–¥–∏—Ç–µ –≤ BotFather –∏ –æ—Ç–∑–æ–≤–∏—Ç–µ —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω
–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω
–£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–π —Ç–æ–∫–µ–Ω –∏–∑ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤

–°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª—ã:

bash# backend/.env
TELEGRAM*BOT_TOKEN=–≤–∞—à*–Ω–æ–≤—ã–π*—Ç–æ–∫–µ–Ω
TELEGRAM_ADMIN_CHANNEL=–≤–∞—à*–∫–∞–Ω–∞–ª*id
JWT_SECRET=–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ*–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä*32*—Å–∏–º–≤–æ–ª–∞
DATABASE_URL="postgresql://..."
bash# frontend/.env
VITE_API_URL=http://localhost:3000/api

–û–±–Ω–æ–≤–∏—Ç–µ .gitignore:

gitignore# Environment files
.env
.env.local
.env.\*.local
backend/.env
backend/.env.local

–°–æ–∑–¥–∞–π—Ç–µ .env.example (–±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π):

bash# backend/.env.example
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_ADMIN_CHANNEL=your_channel_id
JWT_SECRET=generate_32_char_secret
DATABASE_URL="postgresql://user:pass@localhost:5432/aibro"

–û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥:

typescript// api/telegram.ts
const TELEGRAM_BOT_TOKEN = process.env.TELEGRAM_BOT_TOKEN;

if (!TELEGRAM_BOT_TOKEN) {
throw new Error('TELEGRAM_BOT_TOKEN is not defined');
}
1.2 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Zod:
bashnpm install zod
–°–æ–∑–¥–∞–π—Ç–µ —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏:
typescript// src/lib/validation/auth.ts
import { z } from 'zod';

export const loginSchema = z.object({
email: z
.string()
.min(1, 'Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω')
.email('–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email'),
password: z
.string()
.min(8, '–ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤')
.regex(/[A-Z]/, '–î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—è –±—É–∫–≤–∞')
.regex(/[0-9]/, '–î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ —Ü–∏—Ñ—Ä–∞')
.regex(/[!@#$%^&*]/, '–î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª'),
});

export const registerSchema = loginSchema.extend({
name: z
.string()
.min(2, '–ò–º—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞')
.max(50, '–ò–º—è –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–µ–≤—ã—à–∞—Ç—å 50 —Å–∏–º–≤–æ–ª–æ–≤'),
telegram: z
.string()
.regex(/^@[a-zA-Z0-9_]{5,32}$/, '–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç Telegram username'),
});

export const contactSchema = z.object({
name: z.string().min(2, '–ò–º—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ'),
email: z.string().email('–ù–µ–≤–µ—Ä–Ω—ã–π email'),
telegram: z.string().regex(/^@[a-zA-Z0-9_]{5,32}$/),
business: z.string().min(2, '–ù–∞–∑–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ'),
product: z.string().min(1, '–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–¥—É–∫—Ç'),
description: z.string().min(10, '–ú–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤'),
});

export type LoginInput = z.infer<typeof loginSchema>;
export type RegisterInput = z.infer<typeof registerSchema>;
export type ContactInput = z.infer<typeof contactSchema>;
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:
typescript// src/pages/AuthPage.tsx
import { loginSchema } from '../lib/validation/auth';

const handleLogin = async (e: React.FormEvent) => {
e.preventDefault();

try {
// –í–∞–ª–∏–¥–∞—Ü–∏—è
const validated = loginSchema.parse({
email,
password
});

    // –ï—Å–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞
    await login(validated.email, validated.password);

} catch (error) {
if (error instanceof z.ZodError) {
// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
error.errors.forEach(err => {
toast.error(err.message);
});
}
}
};
1.3 XSS Protection
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ DOMPurify:
bashnpm install dompurify
npm install --save-dev @types/dompurify
–°–æ–∑–¥–∞–π—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:
typescript// src/components/common/SafeHTML.tsx
import DOMPurify from 'dompurify';

interface SafeHTMLProps {
html: string;
className?: string;
}

export const SafeHTML: React.FC<SafeHTMLProps> = ({ html, className }) => {
const sanitized = DOMPurify.sanitize(html, {
ALLOWED_TAGS: ['b', 'i', 'em', 'strong', 'a', 'p', 'br'],
ALLOWED_ATTR: ['href', 'target'],
});

return (

<div
className={className}
dangerouslySetInnerHTML={{ __html: sanitized }}
/>
);
};
1.4 CSRF Protection –Ω–∞ Backend
bashcd backend
npm install csurf cookie-parser
typescript// backend/src/server.ts
import csrf from 'csurf';
import cookieParser from 'cookie-parser';

app.use(cookieParser());

// CSRF protection –¥–ª—è –≤—Å–µ—Ö –Ω–µ-GET –∑–∞–ø—Ä–æ—Å–æ–≤
const csrfProtection = csrf({ cookie: true });

app.use('/api', csrfProtection);

// –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è CSRF —Ç–æ–∫–µ–Ω–∞
app.get('/api/csrf-token', (req, res) => {
res.json({ csrfToken: req.csrfToken() });
});

2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   2.1 Global ErrorBoundary
   typescript// src/components/ErrorBoundary.tsx
   import React, { Component, ErrorInfo, ReactNode } from 'react';
   import { AlertTriangle } from 'lucide-react';

interface Props {
children: ReactNode;
fallback?: ReactNode;
}

interface State {
hasError: boolean;
error: Error | null;
}

export class ErrorBoundary extends Component<Props, State> {
constructor(props: Props) {
super(props);
this.state = { hasError: false, error: null };
}

static getDerivedStateFromError(error: Error): State {
return { hasError: true, error };
}

componentDidCatch(error: Error, errorInfo: ErrorInfo) {
// –õ–æ–≥–∏—Ä—É–µ–º –≤ —Å–µ—Ä–≤–∏—Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (Sentry, LogRocket)
console.error('Error caught by boundary:', error, errorInfo);

    // TODO: –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
    // Sentry.captureException(error);

}

render() {
if (this.state.hasError) {
if (this.props.fallback) {
return this.props.fallback;
}

      return (
        <div className="min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900">
          <div className="max-w-md w-full text-center p-8">
            <AlertTriangle className="w-16 h-16 mx-auto text-red-500 mb-4" />
            <h1 className="text-2xl font-bold mb-2 text-gray-900 dark:text-white">
              –ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫
            </h1>
            <p className="text-gray-600 dark:text-gray-400 mb-6">
              {this.state.error?.message || '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞'}
            </p>
            <button
              onClick={() => window.location.reload()}
              className="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700"
            >
              –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
            </button>
          </div>
        </div>
      );
    }

    return this.props.children;

}
}
–û–±–Ω–æ–≤–∏—Ç–µ App.tsx:
typescript// src/App.tsx
import { ErrorBoundary } from './components/ErrorBoundary';

function App() {
return (
<ErrorBoundary>
<ThemeProvider>
<AuthProvider>
<SubscriptionProvider>
<Router>
{/_ ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ _/}
</Router>
</SubscriptionProvider>
</AuthProvider>
</ThemeProvider>
</ErrorBoundary>
);
}
2.2 –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π API Client
typescript// src/services/api/client.ts
class APIError extends Error {
constructor(
message: string,
public statusCode: number,
public code?: string,
public errors?: Record<string, string[]>
) {
super(message);
this.name = 'APIError';
}
}

class APIClient {
private baseURL: string;
private token: string | null = null;

constructor() {
this.baseURL = import.meta.env.VITE_API_URL || 'http://localhost:3000/api';
}

setToken(token: string | null) {
this.token = token;
}

private async handleResponse<T>(response: Response): Promise<T> {
if (!response.ok) {
const error = await response.json().catch(() => ({
message: '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞',
}));

      throw new APIError(
        error.message || '–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞',
        response.status,
        error.code,
        error.errors
      );
    }

    return response.json();

}

private async request<T>(
endpoint: string,
options: RequestInit = {}
): Promise<T> {
const headers: HeadersInit = {
'Content-Type': 'application/json',
...options.headers,
};

    if (this.token) {
      headers['Authorization'] = `Bearer ${this.token}`;
    }

    try {
      const response = await fetch(`${this.baseURL}${endpoint}`, {
        ...options,
        headers,
      });

      return this.handleResponse<T>(response);
    } catch (error) {
      if (error instanceof APIError) {
        throw error;
      }

      // Network error
      throw new APIError(
        '–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º',
        0
      );
    }

}

// Auth methods
async login(email: string, password: string) {
return this.request<{ user: User; token: string }>('/auth/login', {
method: 'POST',
body: JSON.stringify({ email, password }),
});
}

async register(data: RegisterInput) {
return this.request<{ user: User; token: string }>('/auth/register', {
method: 'POST',
body: JSON.stringify(data),
});
}

async getMe() {
return this.request<User>('/auth/me');
}

// Products methods
async getProducts(params?: { tier?: number; isActive?: boolean }) {
const query = new URLSearchParams(
params as Record<string, string>
).toString();
return this.request<{ products: Product[] }>(
`/products${query ? `?${query}` : ''}`
);
}

async getProductBySlug(slug: string) {
return this.request<Product>(`/products/${slug}`);
}

// Cart methods
async getCart() {
return this.request<{ items: CartItem[]; total: number }>('/cart');
}

async addToCart(productId: string, quantity: number = 1) {
return this.request<{ cartItem: CartItem }>('/cart/add', {
method: 'POST',
body: JSON.stringify({ productId, quantity }),
});
}

async removeFromCart(itemId: string) {
return this.request<{ message: string }>(`/cart/${itemId}`, {
method: 'DELETE',
});
}

async clearCart() {
return this.request<{ message: string }>('/cart/clear', {
method: 'POST',
});
}

// Payment methods
async createCryptoPayment(cartItems: string[], paymentMethod: string) {
return this.request<CryptoPaymentResponse>('/payments/crypto/create', {
method: 'POST',
body: JSON.stringify({ cartItems, paymentMethod }),
});
}

async getPaymentStatus(paymentId: string) {
return this.request<PaymentStatus>(`/payments/${paymentId}/status`);
}

// User methods
async getUserProfile() {
return this.request<User>('/user/profile');
}

async updateUserProfile(data: Partial<User>) {
return this.request<{ user: User }>('/user/profile', {
method: 'PUT',
body: JSON.stringify(data),
});
}

async getUserSubscriptions() {
return this.request<{ subscriptions: Subscription[] }>(
'/user/subscriptions'
);
}

async getUserPayments() {
return this.request<{ payments: Payment[] }>('/user/payments');
}

async cancelSubscription(subscriptionId: string) {
return this.request<{ subscription: Subscription }>(
`/user/subscriptions/${subscriptionId}/cancel`,
{ method: 'POST' }
);
}
}

export const apiClient = new APIClient();
export { APIError };
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:
typescript// src/hooks/useLogin.ts
import { apiClient, APIError } from '../services/api/client';

export const useLogin = () => {
const [loading, setLoading] = useState(false);
const [error, setError] = useState<string | null>(null);

const login = async (email: string, password: string) => {
setLoading(true);
setError(null);

    try {
      const response = await apiClient.login(email, password);
      apiClient.setToken(response.token);
      localStorage.setItem('token', response.token);
      return response.user;
    } catch (err) {
      if (err instanceof APIError) {
        setError(err.message);
      } else {
        setError('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞');
      }
      throw err;
    } finally {
      setLoading(false);
    }

};

return { login, loading, error };
};

3. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
   3.1 Lazy Loading –∏ Code Splitting
   typescript// src/App.tsx
   import { lazy, Suspense } from 'react';

// Lazy load —Å—Ç—Ä–∞–Ω–∏—Ü
const AccountPage = lazy(() => import('./pages/AccountPage'));
const PaymentPage = lazy(() => import('./pages/PaymentPage'));
const AuthPage = lazy(() => import('./pages/AuthPage'));

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏
const PageLoader = () => (

  <div className="min-h-screen flex items-center justify-center">
    <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
  </div>
);

function App() {
return (
<ErrorBoundary>
<ThemeProvider>
<AuthProvider>
<SubscriptionProvider>
<Router>

<div className="min-h-screen flex flex-col App">
<div className="flex-1">
<Suspense fallback={<PageLoader />}>
<Routes>
<Route path="/" element={<>
<Header />
<ScrollToAnchor />
<HeroSection />
{/_ ... –¥—Ä—É–≥–∏–µ —Å–µ–∫—Ü–∏–∏ _/}
</>} />
<Route path="/account" element={<AccountPage />} />
<Route path="/payment" element={<PaymentPage />} />
<Route path="/auth" element={<AuthPage />} />
</Routes>
</Suspense>
</div>
<Footer />
</div>
</Router>
</SubscriptionProvider>
</AuthProvider>
</ThemeProvider>
</ErrorBoundary>
);
}
3.2 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç OptimizedImage:
typescript// src/components/common/OptimizedImage.tsx
import { useState } from 'react';

interface OptimizedImageProps {
src: string;
alt: string;
className?: string;
width?: number;
height?: number;
}

export const OptimizedImage: React.FC<OptimizedImageProps> = ({
src,
alt,
className = '',
width,
height,
}) => {
const [loaded, setLoaded] = useState(false);
const [error, setError] = useState(false);

// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø—É—Ç–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
const webpSrc = src.replace(/\.(jpg|jpeg|png)$/, '.webp');
  const avifSrc = src.replace(/\.(jpg|jpeg|png)$/, '.avif');

if (error) {
return (

<div
className={`bg-gray-200 dark:bg-gray-700 flex items-center justify-center ${className}`}
style={{ width, height }} >
<span className="text-gray-400">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</span>
</div>
);
}

return (
<picture>

<source srcSet={avifSrc} type="image/avif" />
<source srcSet={webpSrc} type="image/webp" />
<img
src={src}
alt={alt}
className={`${className} ${loaded ? 'opacity-100' : 'opacity-0'} transition-opacity duration-300`}
width={width}
height={height}
loading="lazy"
onLoad={() => setLoaded(true)}
onError={() => setError(true)}
/>
</picture>
);
};
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ img:
typescript// –ë—ã–ª–æ:
<img src="/images/hero.jpg" alt="Hero" />

// –°—Ç–∞–ª–æ:
<OptimizedImage src="/images/hero.jpg" alt="Hero" width={1920} height={1080} />
3.3 –ú–µ–º–æ–∏–∑–∞—Ü–∏—è Context
typescript// src/context/AuthContext.tsx
import { createContext, useState, useContext, useMemo, useCallback } from 'react';

interface AuthContextType {
user: User | null;
token: string | null;
login: (email: string, password: string) => Promise<void>;
logout: () => void;
isAuthenticated: boolean;
}

const AuthContext = createContext<AuthContextType | undefined>(undefined);

export const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
const [user, setUser] = useState<User | null>(null);
const [token, setToken] = useState<string | null>(
localStorage.getItem('token')
);

// –ú–µ–º–æ–∏–∑–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ª–∏—à–Ω–∏—Ö —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–æ–≤
const login = useCallback(async (email: string, password: string) => {
const response = await apiClient.login(email, password);
setUser(response.user);
setToken(response.token);
apiClient.setToken(response.token);
localStorage.setItem('token', response.token);
}, []);

const logout = useCallback(() => {
setUser(null);
setToken(null);
apiClient.setToken(null);
localStorage.removeItem('token');
}, []);

// –ú–µ–º–æ–∏–∑–∏—Ä—É–µ–º value –æ–±—ä–µ–∫—Ç
const value = useMemo(
() => ({
user,
token,
login,
logout,
isAuthenticated: !!token,
}),
[user, token, login, logout]
);

return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;
};

export const useAuth = () => {
const context = useContext(AuthContext);
if (!context) {
throw new Error('useAuth must be used within AuthProvider');
}
return context;
};
3.4 –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Ç—è–∂—ë–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
typescript// src/components/sections/ProductsSection.tsx
import { memo } from 'react';

const ProductCard = memo<{ product: Product }>(({ product }) => {
return (

<div className="product-card">
{/_ ... _/}
</div>
);
});

ProductCard.displayName = 'ProductCard';

export default ProductCard;

üìä –í–ê–ñ–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2) 4. –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
4.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ESLint –∏ Prettier
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
bashnpm install --save-dev @typescript-eslint/eslint-plugin @typescript-eslint/parser eslint-plugin-react eslint-plugin-react-hooks prettier eslint-config-prettier eslint-plugin-prettier
–°–æ–∑–¥–∞–π—Ç–µ .eslintrc.json:
json{
"extends": [
"eslint:recommended",
"plugin:@typescript-eslint/recommended",
"plugin:react/recommended",
"plugin:react-hooks/recommended",
"prettier"
],
"parser": "@typescript-eslint/parser",
"parserOptions": {
"ecmaVersion": 2021,
"sourceType": "module",
"ecmaFeatures": {
"jsx": true
}
},
"plugins": ["@typescript-eslint", "react", "react-hooks", "prettier"],
"rules": {
"prettier/prettier": "error",
"no-console": ["warn", { "allow": ["warn", "error"] }],
"no-unused-vars": "off",
"@typescript-eslint/no-unused-vars": ["error", { "argsIgnorePattern": "^_" }],
"@typescript-eslint/no-explicit-any": "error",
"react/react-in-jsx-scope": "off",
"react/prop-types": "off",
"react-hooks/rules-of-hooks": "error",
"react-hooks/exhaustive-deps": "warn"
},
"settings": {
"react": {
"version": "detect"
}
}
}
–°–æ–∑–¥–∞–π—Ç–µ .prettierrc:
json{
"semi": true,
"singleQuote": true,
"tabWidth": 2,
"trailingComma": "es5",
"printWidth": 100,
"arrowParens": "always"
}
–î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ package.json:
json{
"scripts": {
"lint": "eslint . --ext .ts,.tsx",
"lint:fix": "eslint . --ext .ts,.tsx --fix",
"format": "prettier --write \"src/\*_/_.{ts,tsx,css,md}\""
}
}
4.2 –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —á–∞—Å—Ç—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
typescript// src/lib/utils/storage.ts
class StorageService {
private prefix = 'aibro\_';

set<T>(key: string, value: T): void {
try {
const serialized = JSON.stringify(value);
localStorage.setItem(this.prefix + key, serialized);
} catch (error) {
console.error('Error saving to localStorage:', error);
}
}

get<T>(key: string): T | null {
try {
const item = localStorage.getItem(this.prefix + key);
return item ? JSON.parse(item) : null;
} catch (error) {
console.error('Error reading from localStorage:', error);
return null;
}
}

remove(key: string): void {
localStorage.removeItem(this.prefix + key);
}

clear(): void {
const keys = Object.keys(localStorage);
keys.forEach((key) => {
if (key.startsWith(this.prefix)) {
localStorage.removeItem(key);
}
});
}
}

export const storage = new StorageService();
typescript// src/lib/utils/dom.ts
export const scrollToElement = (elementId: string, offset: number = 0): void => {
const element = document.getElementById(elementId);
if (element) {
const y = element.getBoundingClientRect().top + window.pageYOffset + offset;
window.scrollTo({ top: y, behavior: 'smooth' });
}
};

export const copyToClipboard = async (text: string): Promise<boolean> => {
try {
await navigator.clipboard.writeText(text);
return true;
} catch (error) {
console.error('Failed to copy:', error);
return false;
}
};

export const formatCurrency = (amount: number, currency: string = 'RUB'): string => {
return new Intl.NumberFormat('ru-RU', {
style: 'currency',
currency,
minimumFractionDigits: 0,
}).format(amount);
};

export const formatDate = (date: Date | string, locale: string = 'ru-RU'): string => {
const dateObj = typeof date === 'string' ? new Date(date) : date;
return new Intl.DateTimeFormat(locale, {
year: 'numeric',
month: 'long',
day: 'numeric',
}).format(dateObj);
};
typescript// src/lib/utils/validators.ts
export const isValidEmail = (email: string): boolean => {
const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
return re.test(email);
};

export const isValidTelegram = (username: string): boolean => {
const re = /^@[a-zA-Z0-9_]{5,32}$/;
return re.test(username);
};

export const isStrongPassword = (password: string): boolean => {
return (
password.length >= 8 &&
/[A-Z]/.test(password) &&
/[a-z]/.test(password) &&
/[0-9]/.test(password) &&
/[!@#$%^&*]/.test(password)
);
};
4.3 –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏ –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
typescript// src/hooks/useAsync.ts
import { useState, useCallback } from 'react';

export function useAsync<T, E = Error>() {
const [data, setData] = useState<T | null>(null);
const [loading, setLoading] = useState(false);
const [error, setError] = useState<E | null>(null);

const execute = useCallback(async (promise: Promise<T>) => {
setLoading(true);
setError(null);

    try {
      const result = await promise;
      setData(result);
      return result;
    } catch (err) {
      setError(err as E);
      throw err;
    } finally {
      setLoading(false);
    }

}, []);

const reset = useCallback(() => {
setData(null);
setError(null);
setLoading(false);
}, []);

return { data, loading, error, execute, reset };
}
typescript// src/hooks/useDebounce.ts
import { useState, useEffect } from 'react';

export function useDebounce<T>(value: T, delay: number = 500): T {
const [debouncedValue, setDebouncedValue] = useState<T>(value);

useEffect(() => {
const handler = setTimeout(() => {
setDebouncedValue(value);
}, delay);

    return () => {
      clearTimeout(handler);
    };

}, [value, delay]);

return debouncedValue;
}
typescript// src/hooks/useLocalStorage.ts
import { useState, useEffect } from 'react';
import { storage } from '../lib/utils/storage';

export function useLocalStorage<T>(key: string, initialValue: T) {
const [storedValue, setStoredValue] = useState<T>(() => {
return storage.get<T>(key) ?? initialValue;
});

const setValue = (value: T | ((val: T) => T)) => {
try {
const valueToStore = value instanceof Function ? value(storedValue) : value;
setStoredValue(valueToStore);
storage.set(key, valueToStore);
} catch (error) {
console.error('Error setting localStorage:', error);
}
};

return [storedValue, setValue] as const;
}
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö—É–∫–æ–≤:
typescript// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
const { data, loading, error, execute } = useAsync<Product[]>();

useEffect(() => {
execute(apiClient.getProducts());
}, [execute]);

5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
   5.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Vitest
   bashnpm install --save-dev vitestRetrySContinue2 / 2bashnpm install --save-dev @testing-library/react @testing-library/jest-dom @testing-library/user-event jsdom
   –°–æ–∑–¥–∞–π—Ç–µ vitest.config.ts:
   typescript// vitest.config.ts
   import { defineConfig } from 'vitest/config';
   import react from '@vitejs/plugin-react';
   import path from 'path';

export default defineConfig({
plugins: [react()],
test: {
globals: true,
environment: 'jsdom',
setupFiles: './src/test/setup.ts',
coverage: {
provider: 'v8',
reporter: ['text', 'json', 'html'],
exclude: [
'node_modules/',
'src/test/',
'**/*.d.ts',
'**/*.config.*',
'**/mockData',
],
},
},
resolve: {
alias: {
'@': path.resolve(\_\_dirname, './src'),
},
},
});
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª setup:
typescript// src/test/setup.ts
import '@testing-library/jest-dom';
import { cleanup } from '@testing-library/react';
import { afterEach } from 'vitest';

// –û—á–∏—Å—Ç–∫–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞
afterEach(() => {
cleanup();
});

// Mock localStorage
const localStorageMock = {
getItem: vi.fn(),
setItem: vi.fn(),
removeItem: vi.fn(),
clear: vi.fn(),
};

global.localStorage = localStorageMock as any;

// Mock window.matchMedia
Object.defineProperty(window, 'matchMedia', {
writable: true,
value: vi.fn().mockImplementation((query) => ({
matches: false,
media: query,
onchange: null,
addListener: vi.fn(),
removeListener: vi.fn(),
addEventListener: vi.fn(),
removeEventListener: vi.fn(),
dispatchEvent: vi.fn(),
})),
});
5.2 –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤
–¢–µ—Å—Ç—ã –¥–ª—è —É—Ç–∏–ª–∏—Ç:
typescript// src/lib/utils/**tests**/validators.test.ts
import { describe, it, expect } from 'vitest';
import { isValidEmail, isValidTelegram, isStrongPassword } from '../validators';

describe('Validators', () => {
describe('isValidEmail', () => {
it('should validate correct email', () => {
expect(isValidEmail('test@example.com')).toBe(true);
expect(isValidEmail('user.name+tag@example.co.uk')).toBe(true);
});

    it('should reject invalid email', () => {
      expect(isValidEmail('invalid')).toBe(false);
      expect(isValidEmail('@example.com')).toBe(false);
      expect(isValidEmail('test@')).toBe(false);
    });

});

describe('isValidTelegram', () => {
it('should validate correct telegram username', () => {
expect(isValidTelegram('@username')).toBe(true);
expect(isValidTelegram('@user_name123')).toBe(true);
});

    it('should reject invalid telegram username', () => {
      expect(isValidTelegram('username')).toBe(false); // missing @
      expect(isValidTelegram('@usr')).toBe(false); // too short
      expect(isValidTelegram('@user-name')).toBe(false); // invalid character
    });

});

describe('isStrongPassword', () => {
it('should validate strong password', () => {
expect(isStrongPassword('Password123!')).toBe(true);
expect(isStrongPassword('Str0ng@Pass')).toBe(true);
});

    it('should reject weak password', () => {
      expect(isStrongPassword('short')).toBe(false); // too short
      expect(isStrongPassword('alllowercase123!')).toBe(false); // no uppercase
      expect(isStrongPassword('ALLUPPERCASE123!')).toBe(false); // no lowercase
      expect(isStrongPassword('NoNumbers!')).toBe(false); // no numbers
      expect(isStrongPassword('NoSpecial123')).toBe(false); // no special char
    });

});
});
–¢–µ—Å—Ç—ã –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
typescript// src/components/common/**tests**/Button.test.tsx
import { describe, it, expect, vi } from 'vitest';
import { render, screen, fireEvent } from '@testing-library/react';
import { Button } from '../Button';

describe('Button', () => {
it('should render button with text', () => {
render(<Button>Click me</Button>);
expect(screen.getByText('Click me')).toBeInTheDocument();
});

it('should call onClick when clicked', () => {
const handleClick = vi.fn();
render(<Button onClick={handleClick}>Click me</Button>);

    fireEvent.click(screen.getByText('Click me'));
    expect(handleClick).toHaveBeenCalledTimes(1);

});

it('should be disabled when disabled prop is true', () => {
render(<Button disabled>Click me</Button>);
expect(screen.getByText('Click me')).toBeDisabled();
});

it('should show loading state', () => {
render(<Button loading>Click me</Button>);
expect(screen.getByText('Click me')).toBeDisabled();
// –ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Å–ø–∏–Ω–Ω–µ—Ä–∞
});
});
–¢–µ—Å—Ç—ã –¥–ª—è —Ö—É–∫–æ–≤:
typescript// src/hooks/**tests**/useDebounce.test.ts
import { describe, it, expect, vi } from 'vitest';
import { renderHook, waitFor } from '@testing-library/react';
import { useDebounce } from '../useDebounce';

describe('useDebounce', () => {
it('should debounce value changes', async () => {
const { result, rerender } = renderHook(
({ value, delay }) => useDebounce(value, delay),
{ initialProps: { value: 'initial', delay: 500 } }
);

    expect(result.current).toBe('initial');

    // –ò–∑–º–µ–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
    rerender({ value: 'changed', delay: 500 });

    // –°—Ä–∞–∑—É –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å—Å—è
    expect(result.current).toBe('initial');

    // –ü–æ—Å–ª–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å—Å—è
    await waitFor(
      () => {
        expect(result.current).toBe('changed');
      },
      { timeout: 600 }
    );

});
});
–¢–µ—Å—Ç—ã –¥–ª—è API –∫–ª–∏–µ–Ω—Ç–∞:
typescript// src/services/api/**tests**/client.test.ts
import { describe, it, expect, vi, beforeEach } from 'vitest';
import { apiClient, APIError } from '../client';

// Mock fetch
global.fetch = vi.fn();

describe('APIClient', () => {
beforeEach(() => {
vi.clearAllMocks();
});

it('should make successful login request', async () => {
const mockResponse = {
user: { id: '1', email: 'test@example.com', name: 'Test' },
token: 'test-token',
};

    (global.fetch as any).mockResolvedValueOnce({
      ok: true,
      json: async () => mockResponse,
    });

    const result = await apiClient.login('test@example.com', 'password');

    expect(result).toEqual(mockResponse);
    expect(global.fetch).toHaveBeenCalledWith(
      expect.stringContaining('/auth/login'),
      expect.objectContaining({
        method: 'POST',
        body: JSON.stringify({
          email: 'test@example.com',
          password: 'password',
        }),
      })
    );

});

it('should throw APIError on failed request', async () => {
(global.fetch as any).mockResolvedValueOnce({
ok: false,
status: 401,
json: async () => ({ message: 'Invalid credentials' }),
});

    await expect(
      apiClient.login('test@example.com', 'wrong-password')
    ).rejects.toThrow(APIError);

});

it('should include authorization token in requests', async () => {
apiClient.setToken('test-token');

    (global.fetch as any).mockResolvedValueOnce({
      ok: true,
      json: async () => ({ products: [] }),
    });

    await apiClient.getProducts();

    expect(global.fetch).toHaveBeenCalledWith(
      expect.any(String),
      expect.objectContaining({
        headers: expect.objectContaining({
          Authorization: 'Bearer test-token',
        }),
      })
    );

});
});
–î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ package.json:
json{
"scripts": {
"test": "vitest",
"test:ui": "vitest --ui",
"test:coverage": "vitest --coverage"
}
}

6. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
   6.1 Service Worker –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
   bashnpm install --save-dev vite-plugin-pwa
   –û–±–Ω–æ–≤–∏—Ç–µ vite.config.ts:
   typescript// vite.config.ts
   import { defineConfig } from 'vite';
   import react from '@vitejs/plugin-react';
   import { VitePWA } from 'vite-plugin-pwa';

export default defineConfig({
plugins: [
react(),
VitePWA({
registerType: 'autoUpdate',
includeAssets: ['favicon.svg', 'robots.txt', 'apple-touch-icon.png'],
manifest: {
name: 'AIBRO Business',
short*name: 'AIBRO',
description: 'AI-powered automation ecosystem for Telegram-native businesses',
theme_color: '#00DDFD',
icons: [
{
src: 'pwa-192x192.png',
sizes: '192x192',
type: 'image/png',
},
{
src: 'pwa-512x512.png',
sizes: '512x512',
type: 'image/png',
},
],
},
workbox: {
globPatterns: ['**/*.{js,css,html,ico,png,svg,webp}'],
runtimeCaching: [
{
urlPattern: /^https:\/\/api\.*/i,
handler: 'NetworkFirst',
options: {
cacheName: 'api-cache',
expiration: {
maxEntries: 50,
maxAgeSeconds: 5 _ 60, // 5 –º–∏–Ω—É—Ç
},
cacheableResponse: {
statuses: [0, 200],
},
},
},
{
urlPattern: /\.(?:png|jpg|jpeg|svg|gif|webp)$/,
handler: 'CacheFirst',
options: {
cacheName: 'images-cache',
expiration: {
maxEntries: 100,
maxAgeSeconds: 30 _ 24 \_ 60 \* 60, // 30 –¥–Ω–µ–π
},
},
},
],
},
}),
],
});
6.2 React.memo –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
typescript// src/components/sections/ProductsSection.tsx
import { memo, useMemo } from 'react';

// –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∞
const ProductCard = memo<{ product: Product; onSelect: (id: string) => void }>(
({ product, onSelect }) => {
const handleClick = useCallback(() => {
onSelect(product.id);
}, [product.id, onSelect]);

    return (
      <div className="product-card" onClick={handleClick}>
        <h3>{product.name}</h3>
        <p>{product.description}</p>
        <span>{formatCurrency(product.price)}</span>
      </div>
    );

}
);

ProductCard.displayName = 'ProductCard';

// –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
const ProductsSection = memo(() => {
const [products, setProducts] = useState<Product[]>([]);
const [selectedTier, setSelectedTier] = useState<number | null>(null);

// –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤
const filteredProducts = useMemo(() => {
return selectedTier
? products.filter((p) => p.tier === selectedTier)
: products;
}, [products, selectedTier]);

// –ú–µ–º–æ–∏–∑–∏—Ä—É–µ–º callback
const handleSelectProduct = useCallback((id: string) => {
console.log('Selected product:', id);
// –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ–¥—É–∫—Ç–∞
}, []);

return (

<section className="products-section">
{/_ –§–∏–ª—å—Ç—Ä—ã _/}
<div className="filters">
{[1, 2, 3].map((tier) => (
<button
key={tier}
onClick={() => setSelectedTier(tier)}
className={selectedTier === tier ? 'active' : ''} >
Tier {tier}
</button>
))}
</div>

      {/* –°–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ */}
      <div className="products-grid">
        {filteredProducts.map((product) => (
          <ProductCard
            key={product.id}
            product={product}
            onSelect={handleSelectProduct}
          />
        ))}
      </div>
    </section>

);
});

ProductsSection.displayName = 'ProductsSection';

export default ProductsSection;
6.3 –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª–∏–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤
bashnpm install react-window
typescript// src/components/VirtualizedProductList.tsx
import { FixedSizeList as List } from 'react-window';

interface VirtualizedProductListProps {
products: Product[];
onSelectProduct: (product: Product) => void;
}

const ProductRow = memo<{
index: number;
style: React.CSSProperties;
data: { products: Product[]; onSelect: (product: Product) => void };
}>(({ index, style, data }) => {
const product = data.products[index];

return (

<div style={style} onClick={() => data.onSelect(product)}>
<ProductCard product={product} />
</div>
);
});

export const VirtualizedProductList: React.FC<VirtualizedProductListProps> = ({
products,
onSelectProduct,
}) => {
return (
<List
height={600}
itemCount={products.length}
itemSize={200}
width="100%"
itemData={{ products, onSelect: onSelectProduct }} >
{ProductRow}
</List>
);
};

7. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
   7.1 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Sentry –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
   bashnpm install @sentry/react
   typescript// src/lib/monitoring/sentry.ts
   import \* as Sentry from '@sentry/react';
   import { BrowserTracing } from '@sentry/tracing';

export const initSentry = () => {
if (import.meta.env.PROD) {
Sentry.init({
dsn: import.meta.env.VITE_SENTRY_DSN,
integrations: [
new BrowserTracing(),
new Sentry.Replay({
maskAllText: false,
blockAllMedia: false,
}),
],
tracesSampleRate: 0.1,
replaysSessionSampleRate: 0.1,
replaysOnErrorSampleRate: 1.0,
environment: import.meta.env.MODE,
beforeSend(event, hint) {
// –§–∏–ª—å—Ç—Ä—É–µ–º —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
if (event.request?.headers) {
delete event.request.headers['Authorization'];
}
return event;
},
});
}
};

// –û–±—ë—Ä—Ç–∫–∞ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
export const logError = (error: Error, context?: Record<string, any>) => {
console.error('Error:', error);

if (import.meta.env.PROD) {
Sentry.captureException(error, {
contexts: {
custom: context,
},
});
}
};
–û–±–Ω–æ–≤–∏—Ç–µ main.tsx:
typescript// src/main.tsx
import { StrictMode } from 'react';
import { createRoot } from 'react-dom/client';
import \* as Sentry from '@sentry/react';
import { initSentry } from './lib/monitoring/sentry';
import './index.css';
import App from './App.tsx';

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Sentry
initSentry();

// –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º App –≤ Sentry ErrorBoundary
const SentryApp = Sentry.withProfiler(App);

createRoot(document.getElementById('root')!).render(
<StrictMode>
<SentryApp />
</StrictMode>
);
7.2 –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
typescript// src/lib/analytics/index.ts
class AnalyticsService {
private initialized = false;

init() {
if (this.initialized || !import.meta.env.PROD) return;

    // Google Analytics
    if (import.meta.env.VITE_GA_MEASUREMENT_ID) {
      this.initGoogleAnalytics();
    }

    this.initialized = true;

}

private initGoogleAnalytics() {
const script = document.createElement('script');
script.src = `https://www.googletagmanager.com/gtag/js?id=${import.meta.env.VITE_GA_MEASUREMENT_ID}`;
script.async = true;
document.head.appendChild(script);

    window.dataLayer = window.dataLayer || [];
    function gtag(...args: any[]) {
      window.dataLayer.push(args);
    }
    gtag('js', new Date());
    gtag('config', import.meta.env.VITE_GA_MEASUREMENT_ID);

}

trackPageView(page: string) {
if (!this.initialized) return;

    if (window.gtag) {
      window.gtag('event', 'page_view', {
        page_path: page,
      });
    }

}

trackEvent(eventName: string, parameters?: Record<string, any>) {
if (!this.initialized) return;

    if (window.gtag) {
      window.gtag('event', eventName, parameters);
    }

}

trackPurchase(transactionId: string, value: number, currency: string = 'RUB') {
this.trackEvent('purchase', {
transaction_id: transactionId,
value,
currency,
});
}

trackSignup(method: string) {
this.trackEvent('sign_up', { method });
}

trackLogin(method: string) {
this.trackEvent('login', { method });
}

setUserId(userId: string) {
if (!this.initialized) return;

    if (window.gtag) {
      window.gtag('config', import.meta.env.VITE_GA_MEASUREMENT_ID, {
        user_id: userId,
      });
    }

}
}

export const analytics = new AnalyticsService();

// –¢–∏–ø—ã –¥–ª—è window
declare global {
interface Window {
gtag: (...args: any[]) => void;
dataLayer: any[];
}
}
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–Ω–∞–ª–∏—Ç–∏–∫—É –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:
typescript// src/pages/AuthPage.tsx
import { analytics } from '../lib/analytics';

const handleLogin = async (e: React.FormEvent) => {
e.preventDefault();

try {
const user = await login(email, password);

    // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –≤—Ö–æ–¥
    analytics.trackLogin('email');
    analytics.setUserId(user.id);

    navigate('/account');

} catch (error) {
// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
}
};

8. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (A11y)
   8.1 ARIA –∞—Ç—Ä–∏–±—É—Ç—ã
   typescript// src/components/common/Button.tsx
   interface ButtonProps {
   children: React.ReactNode;
   onClick?: () => void;
   disabled?: boolean;
   loading?: boolean;
   'aria-label'?: string;
   'aria-describedby'?: string;
   }

export const Button: React.FC<ButtonProps> = ({
children,
onClick,
disabled,
loading,
'aria-label': ariaLabel,
'aria-describedby': ariaDescribedBy,
...props
}) => {
return (
<button
onClick={onClick}
disabled={disabled || loading}
aria-label={ariaLabel}
aria-describedby={ariaDescribedBy}
aria-busy={loading}
{...props} >
{loading && <span className="sr-only">–ó–∞–≥—Ä—É–∑–∫–∞...</span>}
{children}
</button>
);
};
8.2 Skip Navigation Link
typescript// src/components/SkipToContent.tsx
export const SkipToContent: React.FC = () => {
return (

      href="#main-content"
      className="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:rounded"
    >
      –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É
    </a>

);
};

// –í App.tsx
<SkipToContent />

<main id="main-content">
  {/* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */}
</main>
8.3 Keyboard Navigation
typescript// src/components/common/Modal.tsx
import { useEffect, useRef } from 'react';

export const Modal: React.FC<ModalProps> = ({ isOpen, onClose, children }) => {
const modalRef = useRef<HTMLDivElement>(null);
const previousActiveElement = useRef<HTMLElement | null>(null);

useEffect(() => {
if (isOpen) {
// –°–æ—Ö—Ä–∞–Ω—è–µ–º —ç–ª–µ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –≤ —Ñ–æ–∫—É—Å–µ
previousActiveElement.current = document.activeElement as HTMLElement;

      // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–æ–∫—É—Å –Ω–∞ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
      modalRef.current?.focus();

      // –û–±—Ä–∞–±–æ—Ç–∫–∞ Escape
      const handleEscape = (e: KeyboardEvent) => {
        if (e.key === 'Escape') {
          onClose();
        }
      };

      document.addEventListener('keydown', handleEscape);

      return () => {
        document.removeEventListener('keydown', handleEscape);

        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ–æ–∫—É—Å –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç
        previousActiveElement.current?.focus();
      };
    }

}, [isOpen, onClose]);

if (!isOpen) return null;

return (

<div
      className="modal-overlay"
      role="dialog"
      aria-modal="true"
      aria-labelledby="modal-title"
      ref={modalRef}
      tabIndex={-1}
    >
<div className="modal-content">
{children}
<button
          onClick={onClose}
          aria-label="–ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ"
          className="close-button"
        >
&times;
</button>
</div>
</div>
);
};

9. CI/CD –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
   9.1 GitHub Actions –¥–ª—è CI/CD
   yaml# .github/workflows/ci.yml
   name: CI

on:
push:
branches: [main, develop]
pull_request:
branches: [main, develop]

jobs:
test:
runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Run linter
        run: npm run lint

      - name: Run tests
        run: npm run test:coverage

      - name: Upload coverage
        uses: codecov/codecov-action@v3
        with:
          files: ./coverage/coverage-final.json

build:
runs-on: ubuntu-latest
needs: test

    steps:
      - uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Build
        run: npm run build
        env:
          VITE_API_URL: ${{ secrets.VITE_API_URL }}

      - name: Upload build artifacts
        uses: actions/upload-artifact@v3
        with:
          name: dist
          path: dist/

9.2 Pre-commit hooks —Å Husky
bashnpm install --save-dev husky lint-staged
npx husky install
json// package.json
{
"scripts": {
"prepare": "husky install"
},
"lint-staged": {
"_.{ts,tsx}": [
"eslint --fix",
"prettier --write"
],
"_.{json,md}": [
"prettier --write"
]
}
}
bash# –°–æ–∑–¥–∞–π—Ç–µ pre-commit hook
npx husky add .husky/pre-commit "npx lint-staged"
npx husky add .husky/pre-push "npm run test"

üìù –ü–õ–ê–ù –í–ù–ï–î–†–ï–ù–ò–Ø –ù–ê 4 –ù–ï–î–ï–õ–ò
–ù–µ–¥–µ–ª—è 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–°–†–û–ß–ù–û!)
–î–µ–Ω—å 1-2:

–û—Ç–æ–∑–≤–∞—Ç—å Telegram —Ç–æ–∫–µ–Ω –∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π
–£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –∏–∑ –∫–æ–¥–∞
–°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª—ã –¥–ª—è frontend –∏ backend
–û–±–Ω–æ–≤–∏—Ç—å .gitignore
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Git –∏—Å—Ç–æ—Ä–∏—é –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤

–î–µ–Ω—å 3-4:

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Zod
–°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö —Ñ–æ—Ä–º
–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ–æ—Ä–º —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–∞ backend

–î–µ–Ω—å 5-7:

–°–æ–∑–¥–∞—Ç—å ErrorBoundary –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
–°–æ–∑–¥–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π API –∫–ª–∏–µ–Ω—Ç
–ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –ø—Ä—è–º—ã–µ fetch-–≤—ã–∑–æ–≤—ã –Ω–∞ API –∫–ª–∏–µ–Ω—Ç
–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –≤–æ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

–ù–µ–¥–µ–ª—è 2: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
–î–µ–Ω—å 8-10:

–î–æ–±–∞–≤–∏—Ç—å lazy loading –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
–°–æ–∑–¥–∞—Ç—å OptimizedImage –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
–ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ img —Ç–µ–≥–∏ –Ω–∞ OptimizedImage
–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ WebP/AVIF

–î–µ–Ω—å 11-12:

–î–æ–±–∞–≤–∏—Ç—å React.memo –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å Context –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
–î–æ–±–∞–≤–∏—Ç—å useMemo/useCallback –≥–¥–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ

–î–µ–Ω—å 13-14:

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å PWA –ø–ª–∞–≥–∏–Ω
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Service Worker
–ü—Ä–æ–≤–µ—Å—Ç–∏ Lighthouse audit
–ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

–ù–µ–¥–µ–ª—è 3: –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
–î–µ–Ω—å 15-16:

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å ESLint
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Prettier
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Husky –∏ lint-staged
–ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –æ—à–∏–±–∫–∏ –ª–∏–Ω—Ç–µ—Ä–∞

–î–µ–Ω—å 17-18:

–°–æ–∑–¥–∞—Ç—å utility —Ñ—É–Ω–∫—Ü–∏–∏ (storage, dom, validators)
–°–æ–∑–¥–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏ (useAsync, useDebounce, etc.)
–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞
–î–æ–±–∞–≤–∏—Ç—å JSDoc –∫ –æ—Å–Ω–æ–≤–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º

–î–µ–Ω—å 19-21:

–£–ª—É—á—à–∏—Ç—å —Ç–∏–ø–∏–∑–∞—Ü–∏—é (—Å–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–æ–≥–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)
–£–±—Ä–∞—Ç—å –≤—Å–µ any —Ç–∏–ø—ã
–î–æ–±–∞–≤–∏—Ç—å utility types –≥–¥–µ –Ω—É–∂–Ω–æ
–ü—Ä–æ–≤–µ—Å—Ç–∏ code review

–ù–µ–¥–µ–ª—è 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
–î–µ–Ω—å 22-24:

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Vitest
–ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è —É—Ç–∏–ª–∏—Ç (100% coverage)
–ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è —Ö—É–∫–æ–≤
–ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è API –∫–ª–∏–µ–Ω—Ç–∞

–î–µ–Ω—å 25-26:

–ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
–î–æ–±–∞–≤–∏—Ç—å E2E —Ç–µ—Å—Ç—ã (Playwright)
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å coverage reporting

–î–µ–Ω—å 27-28:

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Sentry
–î–æ–±–∞–≤–∏—Ç—å Google Analytics
–°–æ–∑–¥–∞—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É —Å–æ–±—ã—Ç–∏–π
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD pipeline

üéØ –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê
–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –≤—Å–µ—Ö —É–ª—É—á—à–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –º–µ—Ç—Ä–∏–∫–∞–º:
–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

‚úÖ Lighthouse Score: > 90
‚úÖ First Contentful Paint: < 1.5s
‚úÖ Time to Interactive: < 3.5s
‚úÖ Bundle Size (gzipped): < 200KB

–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

‚úÖ ESLint Errors: 0
‚úÖ TypeScript Errors: 0
‚úÖ Test Coverage: > 70%
‚úÖ Code Duplication: < 3%

–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚úÖ No secrets in code
‚úÖ All inputs validated
‚úÖ CSRF protection enabled
‚úÖ XSS protection enabled
‚úÖ Dependencies vulnerabilities: 0 critical/high

–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å

‚úÖ WCAG 2.1 AA compliant
‚úÖ Keyboard navigation works
‚úÖ Screen reader compatible
‚úÖ Color contrast ratio: > 4.5:1

üìö –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –†–ï–°–£–†–°–´
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

React Best Practices
TypeScript Handbook
Web.dev Performance
[WCAG Guidelines](https://www.w3.org/WAI/WCAG21/
RetrySContinueüìö –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –†–ï–°–£–†–°–´ (–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ)
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

React Best Practices
TypeScript Handbook
Web.dev Performance
WCAG Guidelines
OWASP Security

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

Lighthouse CI
Bundle Analyzer
axe DevTools
WAVE Browser Extension

üîß –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) 10. State Management —Å Zustand
–ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –≤—ã—Ä–∞—Å—Ç–µ—Ç –∏ Context API —Å—Ç–∞–Ω–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ:
bashnpm install zustand
typescript// src/store/authStore.ts
import create from 'zustand';
import { persist, devtools } from 'zustand/middleware';
import { apiClient } from '../services/api/client';

interface AuthState {
user: User | null;
token: string | null;
isAuthenticated: boolean;
isLoading: boolean;
error: string | null;
}

interface AuthActions {
login: (email: string, password: string) => Promise<void>;
register: (data: RegisterInput) => Promise<void>;
logout: () => void;
loadUser: () => Promise<void>;
clearError: () => void;
}

type AuthStore = AuthState & AuthActions;

export const useAuthStore = create<AuthStore>()(
devtools(
persist(
(set, get) => ({
// State
user: null,
token: localStorage.getItem('token'),
isAuthenticated: false,
isLoading: false,
error: null,

        // Actions
        login: async (email, password) => {
          set({ isLoading: true, error: null });
          try {
            const response = await apiClient.login(email, password);
            apiClient.setToken(response.token);
            set({
              user: response.user,
              token: response.token,
              isAuthenticated: true,
              isLoading: false,
            });
          } catch (error: any) {
            set({
              error: error.message,
              isLoading: false,
            });
            throw error;
          }
        },

        register: async (data) => {
          set({ isLoading: true, error: null });
          try {
            const response = await apiClient.register(data);
            apiClient.setToken(response.token);
            set({
              user: response.user,
              token: response.token,
              isAuthenticated: true,
              isLoading: false,
            });
          } catch (error: any) {
            set({
              error: error.message,
              isLoading: false,
            });
            throw error;
          }
        },

        logout: () => {
          apiClient.setToken(null);
          set({
            user: null,
            token: null,
            isAuthenticated: false,
            error: null,
          });
        },

        loadUser: async () => {
          const token = get().token;
          if (!token) return;

          set({ isLoading: true });
          try {
            apiClient.setToken(token);
            const user = await apiClient.getMe();
            set({
              user,
              isAuthenticated: true,
              isLoading: false,
            });
          } catch (error) {
            set({
              user: null,
              token: null,
              isAuthenticated: false,
              isLoading: false,
            });
          }
        },

        clearError: () => set({ error: null }),
      }),
      {
        name: 'auth-storage',
        partialize: (state) => ({
          token: state.token,
        }),
      }
    )

)
);

// –°–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
export const selectUser = (state: AuthStore) => state.user;
export const selectIsAuthenticated = (state: AuthStore) => state.isAuthenticated;
export const selectIsLoading = (state: AuthStore) => state.isLoading;
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:
typescript// src/pages/AuthPage.tsx
import { useAuthStore, selectIsLoading } from '../store/authStore';

const AuthPage = () => {
const login = useAuthStore((state) => state.login);
const isLoading = useAuthStore(selectIsLoading);
const error = useAuthStore((state) => state.error);

const handleLogin = async (e: React.FormEvent) => {
e.preventDefault();
try {
await login(email, password);
navigate('/account');
} catch (error) {
// –û—à–∏–±–∫–∞ —É–∂–µ –≤ store
}
};

return (

<form onSubmit={handleLogin}>
{/_ —Ñ–æ—Ä–º–∞ _/}
{error && <div className="error">{error}</div>}
<button type="submit" disabled={isLoading}>
{isLoading ? '–ó–∞–≥—Ä—É–∑–∫–∞...' : '–í–æ–π—Ç–∏'}
</button>
</form>
);
}; 11. React Query –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
bashnpm install @tanstack/react-query
typescript// src/lib/queryClient.ts
import { QueryClient } from '@tanstack/react-query';

export const queryClient = new QueryClient({
defaultOptions: {
queries: {
staleTime: 5 _ 60 _ 1000, // 5 –º–∏–Ω—É—Ç
cacheTime: 10 _ 60 _ 1000, // 10 –º–∏–Ω—É—Ç
refetchOnWindowFocus: false,
retry: 1,
},
},
});
typescript// src/App.tsx
import { QueryClientProvider } from '@tanstack/react-query';
import { ReactQueryDevtools } from '@tanstack/react-query-devtools';
import { queryClient } from './lib/queryClient';

function App() {
return (
<QueryClientProvider client={queryClient}>
<ErrorBoundary>
{/_ –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ _/}
</ErrorBoundary>
{import.meta.env.DEV && <ReactQueryDevtools />}
</QueryClientProvider>
);
}
typescript// src/hooks/useProducts.ts
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';
import { apiClient } from '../services/api/client';

export const useProducts = (params?: { tier?: number }) => {
return useQuery({
queryKey: ['products', params],
queryFn: () => apiClient.getProducts(params),
});
};

export const useProduct = (slug: string) => {
return useQuery({
queryKey: ['product', slug],
queryFn: () => apiClient.getProductBySlug(slug),
enabled: !!slug,
});
};

// –ü—Ä–∏–º–µ—Ä –º—É—Ç–∞—Ü–∏–∏
export const useAddToCart = () => {
const queryClient = useQueryClient();

return useMutation({
mutationFn: ({ productId, quantity }: { productId: string; quantity: number }) =>
apiClient.addToCart(productId, quantity),
onSuccess: () => {
// –ò–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ–º –∫–µ—à –∫–æ—Ä–∑–∏–Ω—ã
queryClient.invalidateQueries({ queryKey: ['cart'] });
},
});
};
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:
typescript// src/components/sections/ProductsSection.tsx
import { useProducts } from '../../hooks/useProducts';

const ProductsSection = () => {
const { data, isLoading, error } = useProducts();

if (isLoading) {
return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>;
}

if (error) {
return <div>–û—à–∏–±–∫–∞: {error.message}</div>;
}

return (

<div className="products-grid">
{data?.products.map((product) => (
<ProductCard key={product.id} product={product} />
))}
</div>
);
}; 12. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º —Å React Hook Form
bashnpm install react-hook-form @hookform/resolvers
typescript// src/components/forms/LoginForm.tsx
import { useForm } from 'react-hook-form';
import { zodResolver } from '@hookform/resolvers/zod';
import { loginSchema, type LoginInput } from '../../lib/validation/auth';

export const LoginForm: React.FC<{ onSubmit: (data: LoginInput) => Promise<void> }> = ({
onSubmit,
}) => {
const {
register,
handleSubmit,
formState: { errors, isSubmitting },
} = useForm<LoginInput>({
resolver: zodResolver(loginSchema),
mode: 'onBlur',
});

return (

<form onSubmit={handleSubmit(onSubmit)} className="space-y-4">
<div>
<label htmlFor="email" className="block text-sm font-medium mb-1">
Email
</label>
<input
id="email"
type="email"
{...register('email')}
className={`w-full px-4 py-2 border rounded-lg ${
            errors.email ? 'border-red-500' : 'border-gray-300'
          }`}
aria-invalid={errors.email ? 'true' : 'false'}
aria-describedby={errors.email ? 'email-error' : undefined}
/>
{errors.email && (
<p id="email-error" className="text-red-500 text-sm mt-1">
{errors.email.message}
</p>
)}
</div>

      <div>
        <label htmlFor="password" className="block text-sm font-medium mb-1">
          –ü–∞—Ä–æ–ª—å
        </label>
        <input
          id="password"
          type="password"
          {...register('password')}
          className={`w-full px-4 py-2 border rounded-lg ${
            errors.password ? 'border-red-500' : 'border-gray-300'
          }`}
          aria-invalid={errors.password ? 'true' : 'false'}
          aria-describedby={errors.password ? 'password-error' : undefined}
        />
        {errors.password && (
          <p id="password-error" className="text-red-500 text-sm mt-1">
            {errors.password.message}
          </p>
        )}
      </div>

      <button
        type="submit"
        disabled={isSubmitting}
        className="w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50"
      >
        {isSubmitting ? '–ó–∞–≥—Ä—É–∑–∫–∞...' : '–í–æ–π—Ç–∏'}
      </button>
    </form>

);
}; 13. Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
bashnpm install react-hot-toast
typescript// src/lib/toast.ts
import toast from 'react-hot-toast';

export const showToast = {
success: (message: string) => {
toast.success(message, {
duration: 3000,
position: 'top-right',
style: {
background: '#10B981',
color: '#fff',
},
});
},

error: (message: string) => {
toast.error(message, {
duration: 4000,
position: 'top-right',
style: {
background: '#EF4444',
color: '#fff',
},
});
},

loading: (message: string) => {
return toast.loading(message, {
position: 'top-right',
});
},

promise: <T,>(
promise: Promise<T>,
messages: {
loading: string;
success: string;
error: string;
}
) => {
return toast.promise(
promise,
{
loading: messages.loading,
success: messages.success,
error: messages.error,
},
{
position: 'top-right',
}
);
},
};
typescript// src/App.tsx
import { Toaster } from 'react-hot-toast';

function App() {
return (
<>
<Toaster />
{/_ –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ _/}
</>
);
}
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
typescriptimport { showToast } from '../lib/toast';

const handleLogin = async () => {
try {
await showToast.promise(
login(email, password),
{
loading: '–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É...',
success: '–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!',
error: '–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞',
}
);
navigate('/account');
} catch (error) {
// –û—à–∏–±–∫–∞ —É–∂–µ –ø–æ–∫–∞–∑–∞–Ω–∞ —á–µ—Ä–µ–∑ toast
}
}; 14. Skeleton Loading States
typescript// src/components/common/Skeleton.tsx
interface SkeletonProps {
className?: string;
width?: string | number;
height?: string | number;
variant?: 'text' | 'circular' | 'rectangular';
}

export const Skeleton: React.FC<SkeletonProps> = ({
className = '',
width,
height,
variant = 'rectangular',
}) => {
const baseClasses = 'animate-pulse bg-gray-300 dark:bg-gray-700';

const variantClasses = {
text: 'rounded',
circular: 'rounded-full',
rectangular: 'rounded-lg',
};

const style: React.CSSProperties = {};
if (width) style.width = typeof width === 'number' ? `${width}px` : width;
if (height) style.height = typeof height === 'number' ? `${height}px` : height;

return (

<div
className={`${baseClasses} ${variantClasses[variant]} ${className}`}
style={style}
/>
);
};

// –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
export const ProductCardSkeleton = () => (

  <div className="p-4 border rounded-lg">
    <Skeleton height={200} className="mb-4" />
    <Skeleton height={24} width="80%" className="mb-2" />
    <Skeleton height={16} width="60%" className="mb-4" />
    <Skeleton height={40} className="w-full" />
  </div>
);

export const ProductsSectionSkeleton = () => (

  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {Array.from({ length: 6 }).map((_, i) => (
      <ProductCardSkeleton key={i} />
    ))}
  </div>
);
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
typescriptconst ProductsSection = () => {
  const { data, isLoading } = useProducts();

if (isLoading) {
return <ProductsSectionSkeleton />;
}

return (

<div className="products-grid">
{data?.products.map((product) => (
<ProductCard key={product.id} product={product} />
))}
</div>
);
}; 15. Infinite Scroll
typescript// src/hooks/useInfiniteScroll.ts
import { useEffect, useRef, useCallback } from 'react';

interface UseInfiniteScrollOptions {
onLoadMore: () => void;
hasMore: boolean;
isLoading: boolean;
threshold?: number;
}

export const useInfiniteScroll = ({
onLoadMore,
hasMore,
isLoading,
threshold = 0.8,
}: UseInfiniteScrollOptions) => {
const observerRef = useRef<IntersectionObserver | null>(null);
const loadMoreRef = useRef<HTMLDivElement | null>(null);

const handleObserver = useCallback(
(entries: IntersectionObserverEntry[]) => {
const [target] = entries;
if (target.isIntersecting && hasMore && !isLoading) {
onLoadMore();
}
},
[onLoadMore, hasMore, isLoading]
);

useEffect(() => {
const element = loadMoreRef.current;
if (!element) return;

    observerRef.current = new IntersectionObserver(handleObserver, {
      threshold,
    });

    observerRef.current.observe(element);

    return () => {
      if (observerRef.current) {
        observerRef.current.disconnect();
      }
    };

}, [handleObserver, threshold]);

return { loadMoreRef };
};
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
typescriptconst ProductsSection = () => {
const [page, setPage] = useState(1);
const [products, setProducts] = useState<Product[]>([]);
const [hasMore, setHasMore] = useState(true);

const { data, isLoading } = useProducts({ page });

useEffect(() => {
if (data) {
setProducts((prev) => [...prev, ...data.products]);
setHasMore(data.hasMore);
}
}, [data]);

const loadMore = useCallback(() => {
setPage((prev) => prev + 1);
}, []);

const { loadMoreRef } = useInfiniteScroll({
onLoadMore: loadMore,
hasMore,
isLoading,
});

return (

<div>
<div className="products-grid">
{products.map((product) => (
<ProductCard key={product.id} product={product} />
))}
</div>

      <div ref={loadMoreRef} className="py-8 text-center">
        {isLoading && <Spinner />}
        {!hasMore && <p>–ë–æ–ª—å—à–µ –Ω–µ—Ç –ø—Ä–æ–¥—É–∫—Ç–æ–≤</p>}
      </div>
    </div>

);
};

üöÄ –ë–û–ù–£–°: Backend —É–ª—É—á—à–µ–Ω–∏—è 16. Rate Limiting —É–ª—É—á—à–µ–Ω–Ω—ã–π
typescript// backend/src/middleware/rateLimiter.ts
import rateLimit from 'express-rate-limit';
import RedisStore from 'rate-limit-redis';
import { Redis } from 'ioredis';

const redis = new Redis(process.env.REDIS_URL);

// –û–±—â–∏–π –ª–∏–º–∏—Ç –¥–ª—è API
export const apiLimiter = rateLimit({
store: new RedisStore({
client: redis,
prefix: 'rl:api:',
}),
windowMs: 15 _ 60 _ 1000, // 15 –º–∏–Ω—É—Ç
max: 100,
message: '–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ',
standardHeaders: true,
legacyHeaders: false,
});

// –°—Ç—Ä–æ–≥–∏–π –ª–∏–º–∏—Ç –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
export const authLimiter = rateLimit({
store: new RedisStore({
client: redis,
prefix: 'rl:auth:',
}),
windowMs: 15 _ 60 _ 1000,
max: 5,
skipSuccessfulRequests: true, // –ù–µ —É—á–∏—Ç—ã–≤–∞–µ–º —É—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
message: '–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —á–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç',
});

// –õ–∏–º–∏—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–µ–π
export const paymentLimiter = rateLimit({
store: new RedisStore({
client: redis,
prefix: 'rl:payment:',
}),
windowMs: 60 _ 60 _ 1000, // 1 —á–∞—Å
max: 10,
message: '–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–µ–π –∑–∞ —á–∞—Å',
}); 17. Request Logging –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
typescript// backend/src/middleware/logger.ts
import morgan from 'morgan';
import { createLogger, format, transports } from 'winston';

// Winston logger
export const logger = createLogger({
level: process.env.LOG_LEVEL || 'info',
format: format.combine(
format.timestamp(),
format.errors({ stack: true }),
format.json()
),
transports: [
new transports.File({ filename: 'logs/error.log', level: 'error' }),
new transports.File({ filename: 'logs/combined.log' }),
],
});

if (process.env.NODE_ENV !== 'production') {
logger.add(
new transports.Console({
format: format.combine(format.colorize(), format.simple()),
})
);
}

// Morgan –¥–ª—è HTTP –ª–æ–≥–æ–≤
export const httpLogger = morgan(
':method :url :status :res[content-length] - :response-time ms',
{
stream: {
write: (message) => logger.info(message.trim()),
},
}
); 18. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –Ω–∞ Backend
typescript// backend/src/middleware/errorHandler.ts
import { Request, Response, NextFunction } from 'express';
import { ZodError } from 'zod';
import { Prisma } from '@prisma/client';
import { logger } from './logger';

export class AppError extends Error {
constructor(
public statusCode: number,
public message: string,
public code?: string,
public isOperational = true
) {
super(message);
Object.setPrototypeOf(this, AppError.prototype);
}
}

export const errorHandler = (
err: Error,
req: Request,
res: Response,
next: NextFunction
) => {
// –õ–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É
logger.error({
message: err.message,
stack: err.stack,
url: req.url,
method: req.method,
});

// Zod validation errors
if (err instanceof ZodError) {
return res.status(400).json({
error: '–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏',
code: 'VALIDATION_ERROR',
errors: err.errors.map((e) => ({
field: e.path.join('.'),
message: e.message,
})),
});
}

// Prisma errors
if (err instanceof Prisma.PrismaClientKnownRequestError) {
if (err.code === 'P2002') {
return res.status(409).json({
error: '–ó–∞–ø–∏—Å—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç',
code: 'DUPLICATE_ERROR',
});
}
if (err.code === 'P2025') {
return res.status(404).json({
error: '–ó–∞–ø–∏—Å—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞',
code: 'NOT_FOUND',
});
}
}

// App errors
if (err instanceof AppError) {
return res.status(err.statusCode).json({
error: err.message,
code: err.code,
});
}

// –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏
return res.status(500).json({
error: '–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞',
code: 'INTERNAL_ERROR',
});
};

// Async handler wrapper
export const asyncHandler = (
fn: (req: Request, res: Response, next: NextFunction) => Promise<any>
) => {
return (req: Request, res: Response, next: NextFunction) => {
Promise.resolve(fn(req, res, next)).catch(next);
};
}; 19. Input Sanitization –Ω–∞ Backend
bashcd backend
npm install express-validator
typescript// backend/src/middleware/validation.ts
import { body, validationResult } from 'express-validator';
import { Request, Response, NextFunction } from 'express';

export const validate = (req: Request, res: Response, next: NextFunction) => {
const errors = validationResult(req);
if (!errors.isEmpty()) {
return res.status(400).json({ errors: errors.array() });
}
next();
};

export const loginValidation = [
body('email')
.trim()
.isEmail()
.normalizeEmail()
.withMessage('–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email'),
body('password')
.trim()
.isLength({ min: 8 })
.withMessage('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤'),
validate,
];

export const registerValidation = [
body('email')
.trim()
.isEmail()
.normalizeEmail()
.withMessage('–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email'),
body('password')
.trim()
.isLength({ min: 8 })
.matches(/[A-Z]/)
.withMessage('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∑–∞–≥–ª–∞–≤–Ω—É—é –±—É–∫–≤—É')
.matches(/[0-9]/)
.withMessage('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ü–∏—Ñ—Ä—É')
.matches(/[!@#$%^&*]/)
.withMessage('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª'),
body('name')
.trim()
.isLength({ min: 2, max: 50 })
.withMessage('–ò–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 2 –¥–æ 50 —Å–∏–º–≤–æ–ª–æ–≤'),
body('telegram')
.trim()
.matches(/^@[a-zA-Z0-9_]{5,32}$/)
.withMessage('–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç Telegram username'),
validate,
];

üìù –§–ò–ù–ê–õ–¨–ù–´–ô –ß–ï–ö–õ–ò–°–¢
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —É–ª—É—á—à–µ–Ω–∏–π, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ .env
.env –¥–æ–±–∞–≤–ª–µ–Ω –≤ .gitignore
Git –∏—Å—Ç–æ—Ä–∏—è –æ—á–∏—â–µ–Ω–∞ –æ—Ç —Å–µ–∫—Ä–µ—Ç–æ–≤
–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ö
CSRF protection –≤–∫–ª—é—á–µ–Ω
XSS protection –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
Rate limiting —Ä–∞–±–æ—Ç–∞–µ—Ç
CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
Dependencies –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏ –±–µ–∑ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π

–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

Lazy loading –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü
–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã (WebP/AVIF)
React.memo –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
useMemo/useCallback –≥–¥–µ –Ω—É–∂–Ω–æ
Service Worker –Ω–∞—Å—Ç—Ä–æ–µ–Ω
Bundle size < 200KB
Lighthouse score > 90
FCP < 1.5s, TTI < 3.5s

–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

ESLint –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ 0 –æ—à–∏–±–æ–∫
Prettier –Ω–∞—Å—Ç—Ä–æ–µ–Ω
Husky –∏ lint-staged —Ä–∞–±–æ—Ç–∞—é—Ç
TypeScript strict mode –≤–∫–ª—é—á–µ–Ω
–ù–µ—Ç any —Ç–∏–ø–æ–≤
JSDoc –Ω–∞ –∫–ª—é—á–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö
–ö–æ–¥ –æ—Ç—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω (–Ω–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è)
Utility —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

Vitest –Ω–∞—Å—Ç—Ä–æ–µ–Ω
Unit —Ç–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã (coverage > 70%)
Integration —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–ª–æ—É
E2E —Ç–µ—Å—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
Tests –ø—Ä–æ—Ö–æ–¥—è—Ç –≤ CI/CD

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

Sentry –Ω–∞—Å—Ç—Ä–æ–µ–Ω
Google Analytics –¥–æ–±–∞–≤–ª–µ–Ω–∞
Error logging —Ä–∞–±–æ—Ç–∞–µ—Ç
Performance monitoring –≤–∫–ª—é—á–µ–Ω

–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å

ARIA –∞—Ç—Ä–∏–±—É—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
Keyboard navigation —Ä–∞–±–æ—Ç–∞–µ—Ç
Skip link –¥–æ–±–∞–≤–ª–µ–Ω
–ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
Screen reader —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

CI/CD

GitHub Actions –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
Tests –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
Lint –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
Deploy –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω

üéì –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï
–≠—Ç–æ—Ç –ø–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏ –≤–∞–∂–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–∞—à –ø—Ä–æ–µ–∫—Ç AIBRO Business –±—É–¥–µ—Ç:
‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–º - –∑–∞—â–∏—Ç–∞ –æ—Ç –æ—Å–Ω–æ–≤–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–º - –±—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å
‚úÖ –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–º - —á–∏—Å—Ç—ã–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –∫–æ–¥
‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º - –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
‚úÖ –î–æ—Å—Ç—É–ø–Ω—ã–º - –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–º - –≥–æ—Ç–æ–≤ –∫ —Ä–æ—Å—Ç—É
–í–∞–∂–Ω–æ: –í—ã–ø–æ–ª–Ω—è–π—Ç–µ —É–ª—É—á—à–µ–Ω–∏—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ, –Ω–∞—á–∏–Ω–∞—è —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å), –∑–∞—Ç–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –≤–∞–∂–Ω—ã–º (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞) –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º.
–£–¥–∞—á–∏ –≤ —É–ª—É—á—à–µ–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞! üöÄ
